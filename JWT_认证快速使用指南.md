# JWT Token 认证 - 快速使用指南

## 🚀 快速开始

### 用户端使用

#### 1️⃣ 首次登录

```
启动程序 → 输入用户名密码 → 自动绑定设备 → 登录成功
```

#### 2️⃣ 再次登录

```
启动程序 → 自动登录成功（无需输入密码）
```

#### 3️⃣ 设备限制

- 每个账号最多绑定 **2 台设备**
- 超过限制会提示："该账号已达到最大设备数量限制（2 台）"
- 需要在管理后台解绑其他设备才能继续

---

## 🎮 管理后台使用

### 查看设备列表

1. 登录管理后台（管理员账号）
2. 点击左侧菜单 **"📱 设备管理"**
3. 查看所有用户的设备绑定情况

### 解绑设备

1. 在设备列表中找到要解绑的设备
2. 点击 **"解绑"** 按钮
3. 确认操作
4. 设备 Token 失效，该设备需要重新登录

---

## ⚙️ 配置说明

### 修改配置（`config.py`）

```python
# JWT 认证配置
JWT_SECRET_KEY = "your-secret-key"  # 生产环境必须修改
JWT_EXPIRATION_DAYS = 30            # Token有效期（天）
MAX_DEVICES_PER_USER = 2           # 每用户最大设备数
```

---

## 🔧 常见问题

### Q: 自动登录失败怎么办？

**A**: 可能原因及解决方法：

- **Token 过期（30 天）**: 重新登录即可
- **设备被解绑**: 联系管理员或重新登录
- **用户被禁用**: 联系管理员
- **Token 文件损坏**: 删除 `~/.auto-form-filler/.token` 后重新登录

### Q: 提示设备数量限制怎么办？

**A**:

1. 使用管理员账号登录管理后台
2. 进入"设备管理"页面
3. 解绑不需要的设备
4. 在新设备上重新登录

### Q: 在哪里查看我的设备绑定情况？

**A**:

- 管理员：在管理后台的"设备管理"页面查看所有用户的设备
- 普通用户：暂不支持查看（可联系管理员）

---

## 📍 Token 存储位置

```bash
# macOS/Linux
~/.auto-form-filler/.token

# Windows
C:\Users\<用户名>\.auto-form-filler\.token
```

---

## 🎯 核心特性

| 特性         | 说明                             |
| ------------ | -------------------------------- |
| 自动登录     | 启动程序无需输入密码             |
| Token 有效期 | 30 天                            |
| 设备限制     | 每用户最多 2 台设备              |
| 设备类型     | 🍎 macOS / 💻 Windows / 🐧 Linux |
| 管理功能     | 管理员可查看和解绑所有设备       |
| 安全性       | HS256 加密，设备绑定验证         |

---

## 📞 获取帮助

如有问题，请查看完整文档：`JWT_认证与设备管理文档.md`
